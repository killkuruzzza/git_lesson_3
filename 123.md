![main header img](https://www.tadviser.ru/images/thumb/3/34/GitHub_-_%D1%81%D0%B0%D0%BD%D0%BA%D1%86%D0%B8%D0%B8.jpeg/840px-GitHub_-_%D1%81%D0%B0%D0%BD%D0%BA%D1%86%D0%B8%D0%B8.jpeg)

# Инструкция для работы с Git и удаленными репозиториями

## **Что такое Git?**

**Git** - это одна из реализаций распределённых систем контроля версий, имеющая как и *локальные*, так и *удалённые* репозитории. Является самой популярной реализацией систем контроля версий в мире. Для начала работы необходимо зарегестрироваться на сайте [github](https://github.com/).

## ***Подготовка репозитория***

Для создание репозитория необходимо выполнить команду 

> git init 

в папке с репозиторием и у Вас создаcтся репозиторий (появится скрытая папка .git)

## ***Сохранение изменений***

Для того чтобы сохранить изменения и передать их системе контроля версий, необходимо произвести следующий алгоритм действий:
1. Добавить изменения в индекс. Находясь в нужной папке ввести следующую команду:

> git add /'Имя файла с изменениями'

2. Проверить успешно ли добавились изменения, введя команду

> git status
    
    Получаем следующий вывод:

![вывод статус](https://imgur.com/sNB2QZF.png)

3. Сохраняем (**коммитим**) изменениями, для этого вводим команду:

> git commit -m "комментарий"

    Если все прошло хорошо, получаем следующий вывод:
    
![вывод коммит](https://imgur.com/6cWmI6j.png)

## ***Просмотр истории изменений***

Для просмотра всех изменений (**коммитов**), необходимо использовать команду:

> git log

Получаем вывод следующего вида, где отображены все изменения по порядку:

![вывод логов](https://imgur.com/6CxweBG.png)

## ***Проверка наличия измений в файлах***

Для того чтобы понять отличаются ли ваши файлы на вашем ПК от файлов которые уже были сохранены ранее, необходимо ввести команду:

> git diff

Вывод если файлы отличаются:

![вывод diff](https://imgur.com/hlSsmv6.png)

Если же отличий нет, и файлы идентичны вы получите пустой вывод.


## ***Перемещение по журналу изменений***

Для перемещения от одного изменения к другому необходимо знать первые 4 цифры номера коммита (см. предыдущий пункт). Узнав номер нужно использовать команду: 

> git checkout <Номер коммита>

После этого мы перейдем на необходимый нам коммит. 

![вывод checkout](https://imgur.com/LqG5Knj.png)

**ВАЖНО**: Коммиты хранят изменения **ТОЛЬКО** дочерних коммитов, поэтому для того чтобы увидеть **полный** журнал изменений необходимо ввести команду:

> git log master

## **Работа с ветками в Git**

Ветки (**branch**) предназначены для удобной работы в команде, создавая отдельную ветку для каждой задачи впоследствии можно с легкостью внести изменения в основной проект.

## ***Создание веток***

Для того чтобы создать новую ветку необходимо ввести следующую команду в терминал:

> git branch <branch_name>

После создания новой ветки можно удостовериться, что все прошло удачно и новая ветка была успшено создана:

> git branch

Команда выше, выводит список всех веток данного репозитория. Получаем следующий вывод:

![вывод списка веток](https://imgur.com/qQ8tPPb.png)

## ***Переключение между ветками***

Для удобной работы с Git важно знать как переключаться между ветками.
Для того чтобы перейти с одной ветки на другую необходимо ввести команду:

> git checkout <branch_name>

***либо:***

> git branch

Если все прошло удачно, получаем следующий выводы:

![переключение успешно 1](https://imgur.com/XxASG9s.png)

![переключение успешно 2](https://imgur.com/mlNqfPG.png)

## ***Слияние веток***

После того как мы закончили работу над отдельной задачей в отдельной ветке, необходимо внести изменения в основную ветку, произвести слияние (**merge**), двух веток.

Для того чтобы слить две ветки, необходимо:

1. Переместится в ветку в которую мы хотим "влить" изменеия из другой ветки:

> git checkout <current_branch>

2. Указать Git что мы хотим влить изменения в ветку, на которой мы сейчас находимся (**current_branch**), из ветки указанной в команде (**new_branch**):

> git merge <new_branch>

Если все прошло удачно получаем следующий вывод:

![слияне успешно](https://imgur.com/oBqLPvU.png)


## ***Конфликты Git***

Иногда при слиянии двух веток, может возникнуть ситуация, когда одни и те же строки имеют разные изменения, соответственно в разных ветках.

![конфликт сообщение](https://imgur.com/lkZFzXe.png)

Данная ситуация называется конфликтом.
Помимо сообщения, которое приведено выше, Git предложит пользователю самостоятельно разрешить конфликт, т.е. выбрать какие именнно изменения он хочет оставить.

![текущие изменения](https://imgur.com/ftKuE7c.png)

Для того чтобы разрешить конфликт слияния веток, Git предложит несколько опций (см.рис. сверху):

* ***Оставить*** текущие изменения, актуальные для текущей ветки;
* ***Принять*** входящие изменения, из ветки которую мы пытаемся слить с текущей;
* Принять как ***текущие*** изменения так и ***входящие*** из обоих веток;
* ***Сравнить*** изменения построчно, перейдя в специальный режим;

![текущие изменения](https://imgur.com/MNcJSDb.png)

Также есть возможность перейти в специальный **редактор слияния**, нажав по кнопке (см.рис. выше). Внутри него можно вручную исправить конфликт, удалив ненужное и оставив нужные строки.

После разрешения конфликта необходимо сохранить изменения создав коммит:

> git add <file_name>

> git commit -m <"comment">

## ***Удаление веток***

После того как поставленная задача решена и изменения успешно слиты в основную ветку, ненужную ветку можно удалить:

> git branch -d <branch_name>

Вывод об успешном удалении ветки выглядит вот так:

![удалено успешно](https://imgur.com/8u1lDUQ.png)

## **Работа с удаленным репозиториями Git**

До этого мы рассматривали работу с локальным репозиторием (файлами которые находятся на нашем ПК), но немаловажно знать как работать с удаленными репозиториями (файлами которые хранятся на сервере).

После того как мы закончили работу и сохранили изменения:

> git add <file_name>

> git commit -m "<комментарий>"

Необходимо загрузить все изменения в удаленный репозиторий на Github. Для этого необходимо ввести:

> git push

Получаем примерно такое сообщение:

![пуш картинка](https://imgur.com/U5CrkxD.png)

Если перейти в удаленный репозиторий на [github](https://github.com/), и выбрать нужный репозиторий можно увидеть сообщение о пуше:

![пуш гитхаб](https://imgur.com/mL0eoXs.png)

Таким образом описанным выше можно выгружать и сохранять изменения в свой проект, в одном из ваших репозиториев. Этот способ позволяет хранить данные не только на вашем ПК но и на удаленном сервере, что значительно сокращает возможность потери данных, а также позволяет вносить изменения в проект не только вам, но и вашим коллегам.

## ***Внесение изменений в чужой удаленный репозиторий***

Для внесения изменений в собственный удаленный репозиторий все очень просто - требуется просто запушить (git push) изменения. В тоже время если вы хотите внести изменения в проект своего коллеги, в open source проект и т.д. данного действия будет не достаточно.

Дело в том что изначально у вас нет прав на внесение изменений в сторонний репозиторий. Поэтому порядок внесения изменений будет другим:

* Необходимо скопировать сторонний репозиторий в свой аккаунт на Github'e нажав на кнопку **Fork**

![форк жпг](https://imgur.com/WBZf3mX.png)

в появившемся окне можно будет изменить название для копии чужого репозитория, на своем аккаунте, а также выбрать копировать все ветки репозитория или только ветку **main**.

![форк жпг 2](https://imgur.com/GzgbKeQ.png)

* После того как репозиторий был сохранен на нашем аккаунте, мы можем скопировать себе его на ПК сделав локальным:

![ссылка на репозиторий](https://imgur.com/UM12Os7.png)

Копируем ссылку и перейдя в новую папку вводим следующую команду в терминал:

> git clone <url_repo>

* Теперь мы можем создать новую ветку и вести работу как в обычном локальном репозитории:

> git add <file_name>

> git commit -m "<commentary>"

> git push


* После того как мы запушили изменения в скопированный репозиторий внутри него должна появиться следующая кнопка:

![пул реквест кнопка](https://imgur.com/sgCkiDX.png)

Эта кнопка служит для того чтобы предложить собственнику оригинального репозитория (того изи которого мы делали **fork** ранее), внести ваши изменения в его репозиторий.

![пул реквест сравнение](https://imgur.com/FLE7eOq.png)

В появившемся окне Git проверит вашу ветку на совместимость, наличие конфликтов и предложит ввести комментарий к **pull request**'y.

После того как комментарий введен можно нажать на кнопку "**Create pull request**";

* **Pull request** будет отправлен вледльцу оригинального репозитория, и если его устроят изменения которые были вами предложены - **pull request** будет принят и изменения смёржины (слиты);

>!!! ВАЖНО: Хорошей практикой считается обязательное создание отдельной ветки для каждого нового **pull request**'a, то есть необходимо сливать изменения из вновь созданной ветки (копии оригинального репозитория) в main (оригинального репозитория):

>**Так плохо:**

![так не делать](https://imgur.com/ltRhpXd.png)

>**Так хорошо:**

![так делать](https://imgur.com/xqTd9cm.png)

