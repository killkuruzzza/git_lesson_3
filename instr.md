# Инструкция по работе с Git 

## Что такое Git и зачем он нужен?
* Git - это консольная утилита, для отслеживания и ведения истории изменения файлов, в вашем проекте. Чаще всего его используют для кода, но можно и для других файлов. Например, для картинок - полезно для дизайнеров.

* С помощью Git-a вы можете откатить свой проект до более старой версии, сравнивать, анализировать или сливать свои изменения в репозиторий.

* Репозиторием называют хранилище вашего кода и историю его изменений. Git работает локально и все ваши репозитории хранятся в определенных папках на жестком диске.
## Основные понятия
1. Репозиторий – папка проекта, отслеживаемого Git, содержащая дерево изменений проекта в хронологическом порядке. Все файлы истории хранятся в специальной папке .git/ внутри папки проекта.
2. Индекс – файл, в котором содержатся изменения, подготовленные для добавления в коммит. Вы можете добавлять и убирать файлы из индекса.
3. Коммит – фиксация изменений, внесенных в индекс. Другими словами, коммит – это единица изменений в вашем проекте. Коммит хранит измененные файлы, имя автора коммита и время, в которое был сделан коммит. Кроме того, каждый коммит имеет уникальный идентификатор, который позволяет в любое время к нему откатиться.
4. Указатели HEAD, ORIGHEAD и т. д. – это ссылка на определенный коммит. Ссылка – это некоторая метка, которую использует Git или сам пользователь, чтобы указать на коммит.
5. Ветка – это последовательность коммитов. Технически же, ветка – это ссылка на последний коммит в этой ветке. Преимущество веток в их независимости. Вы можете вносить изменения в файлы на одной ветке, например, пробовать новую функцию, и они никак не скажутся на файлах в другой ветке. Изначально в репозитории одна ветка, но позже мы рассмотрим, как создавать другие.
Рабочая копия. Директория .git/ с её содержимым относится к Git. Все остальные файлы называются рабочей копией и принадлежат пользователю/

## Зоны видимости файлов в git

В git есть три зоны: 

![зоны]( <947.png>)

**Первая зона видимости:** рабочая директория (Working directory) — это директория, содержащая файлы проекта. Просмотреть все файлы в директории можно командой ls -la.

**Вторая зона видимости:** индекс (Staging area) — это виртуальная зона, где фиксируются изменения внесенные в файлы проекта перед тем, как они будут сохранены (закоммичены). Посмотреть, какие изменения содержатся в индексе можно командой git status.

**Третья зона видимости:** репозиторий (Repository) — это сохраненные изменения, попавшие в директорию .git после коммита. В этой зоне содержатся различные git-объекты. Напрямую с ними взаимодействовать нельзя.

## Удобство в работе 
* Имя файла можем дописать с помощью клавиши Tab

* Чтобы вызвать ранее введённую команду,
пользуемся стрелками на клавиатуре.
Перебираем недавно введённые команды
нажатием стрелки «вверх»

## Начало работы с Git
Необходимо представиться Git - все последующие внесенные изменения будут фиксироваться от указанного пользователя.
Вместо <ваше_имя> можно ввести, например, Grisha_Popov.
Кавычки оставляем.

git config --global user.name "<ваше_имя>"

Теперь установим email. Принцип тот же.

git config --global user.email "<адрес_почты@email.com>"

## Подготовка репозитория

1. **Команда git init**

Запись  **<span style="color:red"> git init</span>**

__Репозиторий__ — это скрытая директория .git, где в бинарном виде хранятся копии файлов и директорий. В репозиторий можно превратить папку.
Инициализация: указываем (создаем) папку, в которой
git начнёт отслеживать изменения.

## Создание файла
Git Может работать с любым типом файлов. Можем создать в папке файл слюбым расширением или скопировать его в рабочую папку.

## Создание коммитов
Начинаем работать с файлом, созданным в рабочей папке.

2. **Команда git add** 

Запись  **<span style="color:red"> git add <файл.doc></span>**

Добавляет содержимое рабочего каталога в индекс (staging area) для последующего коммита. Эта команда дается после добавления файлов.

3. **Команда git commit** 

Зафиксировать или сохранить.

Запись  **<span style="color:red"> git commit -m 'Add some code'</span>**

* По умолчанию **git commit** использует лишь этот индекс, так что вы можно использовать git add для сборки слепка  следующего коммита.

* Команда **git commit** берёт все данные, добавленные в индекс с помощью **git add**, и сохраняет их слепок во внутренней базе данных, а затем сдвигает указатель текущей ветки на этот слепок.

* Флажок -m задаст commit message - комментарий разработчика. Он необходим для описания закоммиченных изменений. И здесь работает золотое правило всех комментариев в коде: «Максимально ясно, просто и содержательно обозначь написанное!»

4. **Команда git status**

Запись  **<span style="color:red"> git status.</span>**

 Показывает состояния файлов в рабочем каталоге и индексе: какие файлы изменены, но не добавлены в индекс; какие ожидают коммита в индексе. Вдобавок к этому выводятся подсказки о том, как изменить состояние файлов.

5. **Команда git diff**

Запись  **<span style="color:red"> git diff</span>**

Используется для вычисления разницы между любыми двумя Git деревьями. Это может быть разница между вашей рабочей копией и индексом (собственно git diff), разница между индексом и последним коммитом (git diff --staged), или между любыми двумя коммитами (git diff master branchB).

6. **Команда git log**

Запись **<span style="color:red"> git log</span>**

Для просмотра всех выполненных фиксаций можно воспользоваться историей коммитов. Она содержит сведения о каждом проведенном коммите проекта. 

Краткая логическая схема работы с git-репозиторием может выглядеть так:

 ![зоны]( <948.png>)


## Работа с ветками
Основная идея рабочего процесса с функциональными ветками заключается в том, что разработка каждой функции должна происходить в отдельной ветке, а не в главной ветке (main or master). Такое обособление позволяет нескольким разработчикам с легкостью создавать конкретную функцию, не затрагивая основную базу кода. 

Команда "git branch" выводит список всех веток, которые у нас есть. Звездочка перед названием ветки показывает на какой ветке мы сейчас.
Внутреннее представление веток Git. Ветки: main, develop, feature

![зоны]( <https://thumb.tildacdn.com/tild6535-3462-4039-b837-613031616163/-/format/webp/2_3.png>)

**Создать новую ветку ** можно с помощью параметра branch, указав имя ветки.

Запись  **<span style="color:red"> git branch new_branch_name</span>**

Но Git не переключится на неё автоматически. Для автоматического перехода нужно добавить флаг -b и параметр checkout.

Запись **<span style="color:red">git checkout -b new_branch_name</span>**

**Удаление ветки**

Удалить ветку можно параметром branch с добавлением флага -d и указанием имени ветки. Если вы завершили работу над веткой и объединили её с основной, можно её удалить без потери истории. Однако, если выполнить команду удаления до слияния — в результате появится сообщение об ошибке. Этот защитный механизм предотвращает потерю доступа к файлам.

Запись **<span style="color:red"> git branch -d existing_branch_name</span>**

**Слияние двух веток**

Объединить две ветки можно параметром merge с указанием имени ветки. Команда объединит указанную ветку с основной.

Запись **<span style="color:red">git merge existing_branch_name</span>**

Если надо выполнить коммит слияния, выполните команду git merge с флагом --no-ff.

Запись **<span style="color:red">git merge --no-ff existing_branch_name</span>**

Указанная команда объединит заданную ветку с основной и произведёт коммит слияния. Это необходимо для фиксации всех слияний в вашем репозитории.
![это изображение](950.png)

## Работа с удаленными репозиториями

Копировать внешний репозиторий на свой ПК можно командой **git clone** "адрес репозитория в интернете".
Команда **git clone** составная: она не только загружает все изменения, но и пытается слить все ветки на локальном компьютере и вудаленном репозитории.

Команда **git pull**

Эта команда позволяет скачать все 
из текущего репозитория и автоматически
сделать merge с нашей версией

Команда **git push**

Отправить свою версию репозитория во внешний репозиторий поможет команда **git push**. При первом её использовании нужна авторизация.

Команда **pull request**
➜ команда для предложения изменений
➜ запрос на вливание изменений в репозиторий
В больших компаниях один ответственный за проект создает аккаунт. Другие пользователи дают команду pull request. Предлагать изменения на GitHub нужно в отдельной ветке. 

Как сделать **pull request**
1. Делаем   (ответвление) репозитория fork
2. Делаем git clone   версии репозитория СВОЕЙ
3. Создаем новую ветку и в НЕЕ вносим свои изменения
4. Фиксируем изменения (делаем коммиты)
5. Отправляем свою версию в свой GitHub
6. На сайте GitHub нажимаем кнопку pull request
